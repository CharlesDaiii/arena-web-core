{"version":3,"sources":["components/vendor/transparent-occlude.js"],"names":["AFRAME","registerSystem","schema","type","init","el","renderer","sortObjects","update","i","order","data","length","registerComponent","multiple","set","bind","addEventListener","evt","id","detail","object","traverse","object3D","node","isNaN","renderOrder","system","parseFloat","setAttribute","getAttribute"],"mappings":";AAEAA,OAAOC,eAAe,eAAgB,CACpCC,OAAQ,CACNC,KAAM,SAERC,KAAM,WACCC,KAAAA,GAAGC,SAASC,aAAc,GAEjCC,OAAQ,WAGDC,IAFAC,KAAAA,MAAQ,GAERD,EAAI,EAAGA,EAAI,KAAKE,KAAKC,OAAQH,IAC3BC,KAAAA,MAAM,KAAKC,KAAKF,IAAMA,KAKjCT,OAAOa,kBAAkB,eAAgB,CACvCX,OAAQ,CACNC,KAAM,UAERW,UAAU,EACVV,KAAM,WACCW,KAAAA,IAAM,KAAKA,IAAIC,KAAK,MACpBX,KAAAA,GAAGY,iBAAiB,cAAeC,IACtB,iBAAZ,KAAKC,IACPD,EAAIE,OAAOC,OAAOC,SAAS,KAAKP,QAItCP,OAAQ,WACU,iBAAZ,KAAKW,GACFJ,KAAAA,IAAI,KAAKV,GAAGkB,UAEZlB,KAAAA,GAAGkB,SAASD,SAAS,KAAKP,MAGnCA,IAAK,SAAUS,GAETC,MAAM,KAAKd,MACba,EAAKE,YAAc,KAAKC,OAAOjB,MAAM,KAAKC,MAE1Ca,EAAKE,YAAcE,WAAW,KAAKjB,SAKzCX,OAAOa,kBAAkB,yBAA0B,CACjDT,KAAM,WACCC,KAAAA,GAAGY,iBAAiB,iBAAkBC,IACzCA,EAAIE,OAAOf,GAAGwB,aAAa,eAAgB,KAAKxB,GAAGyB,aAAa","file":"transparent-occlude.008d451b.js","sourceRoot":"../src","sourcesContent":["// borrowed from aframe-render-order.js\n\nAFRAME.registerSystem('render-order', {\n  schema: {\n    type: 'array'\n  },\n  init: function () {\n    this.el.renderer.sortObjects = true;\n  },\n  update: function () {\n    this.order = {};\n\n    for (i = 0; i < this.data.length; i++) {\n      this.order[this.data[i]] = i;\n    }\n  }\n});\n\nAFRAME.registerComponent('render-order', {\n  schema: {\n    type: 'string'\n  },\n  multiple: true,\n  init: function () {\n    this.set = this.set.bind(this);\n    this.el.addEventListener('object3dset', evt => {\n      if (this.id !== 'nonrecursive') {\n        evt.detail.object.traverse(this.set);\n      }\n    });\n  },\n  update: function () {\n    if (this.id === 'nonrecursive') {\n      this.set(this.el.object3D);\n    } else {\n      this.el.object3D.traverse(this.set);\n    }\n  },\n  set: function (node) {\n    // String (named order).\n    if (isNaN(this.data)) {\n      node.renderOrder = this.system.order[this.data];\n    } else {\n      node.renderOrder = parseFloat(this.data);\n    }\n  }\n});\n\nAFRAME.registerComponent('render-order-recursive', {\n  init: function () {\n    this.el.addEventListener('child-attached', evt => {\n      evt.detail.el.setAttribute('render-order', this.el.getAttribute('render-order'));\n    });\n  }\n});\n"]}