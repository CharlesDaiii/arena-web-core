{"id":"NGwh","dependencies":[{"name":"/home/ubuntu/dev/elu2/package.json","includedInParent":true,"mtime":1610127478044}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;class e{constructor(){this._target=new EventTarget}on(e,t){return this._target.addEventListener(e,t)}once(e,t){return this._target.addEventListener(e,t,{once:!0})}off(e,t){return this._target.removeEventListener(e,t)}emit(e,t){return this._target.dispatchEvent(new CustomEvent(e,{detail:t,cancelable:!0}))}}exports.default=e,e.events={JITSI_CONNECT:\"jitsi_connect\",USER_JOINED:\"user_joined\",SCREENSHARE:\"screenshare\",USER_LEFT:\"user_left\"},e.sources={JITSI:\"jitsi\",CHAT:\"chat\"},exports.ARENAEventEmitter=e;"},"sourceMaps":{"js":{"mappings":[{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":0}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":13}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":20}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":35}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":43}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":56}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":57}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":64}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":68}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":76}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":89}},{"source":"event-emitter.js","original":{"line":5,"column":15},"generated":{"line":1,"column":91}},{"source":"event-emitter.js","name":"ARENAEventEmitter","original":{"line":5,"column":21},"generated":{"line":1,"column":97}},{"source":"event-emitter.js","name":"constructor","original":{"line":9,"column":4},"generated":{"line":1,"column":99}},{"source":"event-emitter.js","name":"_target","original":{"line":10,"column":13},"generated":{"line":1,"column":113}},{"source":"event-emitter.js","name":"_target","original":{"line":10,"column":13},"generated":{"line":1,"column":118}},{"source":"event-emitter.js","original":{"line":10,"column":23},"generated":{"line":1,"column":126}},{"source":"event-emitter.js","name":"EventTarget","original":{"line":10,"column":27},"generated":{"line":1,"column":130}},{"source":"event-emitter.js","name":"on","original":{"line":34,"column":4},"generated":{"line":1,"column":142}},{"source":"event-emitter.js","name":"eventName","original":{"line":34,"column":7},"generated":{"line":1,"column":145}},{"source":"event-emitter.js","name":"listener","original":{"line":34,"column":18},"generated":{"line":1,"column":147}},{"source":"event-emitter.js","original":{"line":35,"column":15},"generated":{"line":1,"column":150}},{"source":"event-emitter.js","original":{"line":35,"column":15},"generated":{"line":1,"column":157}},{"source":"event-emitter.js","name":"_target","original":{"line":35,"column":20},"generated":{"line":1,"column":162}},{"source":"event-emitter.js","name":"addEventListener","original":{"line":35,"column":28},"generated":{"line":1,"column":170}},{"source":"event-emitter.js","name":"eventName","original":{"line":35,"column":45},"generated":{"line":1,"column":187}},{"source":"event-emitter.js","name":"listener","original":{"line":35,"column":56},"generated":{"line":1,"column":189}},{"source":"event-emitter.js","name":"once","original":{"line":45,"column":4},"generated":{"line":1,"column":192}},{"source":"event-emitter.js","name":"eventName","original":{"line":45,"column":9},"generated":{"line":1,"column":197}},{"source":"event-emitter.js","name":"listener","original":{"line":45,"column":20},"generated":{"line":1,"column":199}},{"source":"event-emitter.js","original":{"line":46,"column":15},"generated":{"line":1,"column":202}},{"source":"event-emitter.js","original":{"line":46,"column":15},"generated":{"line":1,"column":209}},{"source":"event-emitter.js","name":"_target","original":{"line":46,"column":20},"generated":{"line":1,"column":214}},{"source":"event-emitter.js","name":"addEventListener","original":{"line":46,"column":28},"generated":{"line":1,"column":222}},{"source":"event-emitter.js","name":"eventName","original":{"line":46,"column":45},"generated":{"line":1,"column":239}},{"source":"event-emitter.js","name":"listener","original":{"line":46,"column":56},"generated":{"line":1,"column":241}},{"source":"event-emitter.js","original":{"line":46,"column":66},"generated":{"line":1,"column":243}},{"source":"event-emitter.js","name":"once","original":{"line":46,"column":67},"generated":{"line":1,"column":244}},{"source":"event-emitter.js","original":{"line":46,"column":73},"generated":{"line":1,"column":250}},{"source":"event-emitter.js","name":"off","original":{"line":56,"column":4},"generated":{"line":1,"column":254}},{"source":"event-emitter.js","name":"eventName","original":{"line":56,"column":8},"generated":{"line":1,"column":258}},{"source":"event-emitter.js","name":"listener","original":{"line":56,"column":19},"generated":{"line":1,"column":260}},{"source":"event-emitter.js","original":{"line":57,"column":15},"generated":{"line":1,"column":263}},{"source":"event-emitter.js","original":{"line":57,"column":15},"generated":{"line":1,"column":270}},{"source":"event-emitter.js","name":"_target","original":{"line":57,"column":20},"generated":{"line":1,"column":275}},{"source":"event-emitter.js","name":"removeEventListener","original":{"line":57,"column":28},"generated":{"line":1,"column":283}},{"source":"event-emitter.js","name":"eventName","original":{"line":57,"column":48},"generated":{"line":1,"column":303}},{"source":"event-emitter.js","name":"listener","original":{"line":57,"column":59},"generated":{"line":1,"column":305}},{"source":"event-emitter.js","name":"emit","original":{"line":74,"column":4},"generated":{"line":1,"column":308}},{"source":"event-emitter.js","name":"eventName","original":{"line":74,"column":9},"generated":{"line":1,"column":313}},{"source":"event-emitter.js","name":"detail","original":{"line":74,"column":20},"generated":{"line":1,"column":315}},{"source":"event-emitter.js","original":{"line":76,"column":15},"generated":{"line":1,"column":318}},{"source":"event-emitter.js","original":{"line":76,"column":15},"generated":{"line":1,"column":325}},{"source":"event-emitter.js","name":"_target","original":{"line":76,"column":20},"generated":{"line":1,"column":330}},{"source":"event-emitter.js","name":"dispatchEvent","original":{"line":76,"column":28},"generated":{"line":1,"column":338}},{"source":"event-emitter.js","original":{"line":77,"column":12},"generated":{"line":1,"column":352}},{"source":"event-emitter.js","name":"CustomEvent","original":{"line":77,"column":16},"generated":{"line":1,"column":356}},{"source":"event-emitter.js","name":"eventName","original":{"line":77,"column":28},"generated":{"line":1,"column":368}},{"source":"event-emitter.js","original":{"line":77,"column":39},"generated":{"line":1,"column":370}},{"source":"event-emitter.js","name":"detail","original":{"line":77,"column":40},"generated":{"line":1,"column":371}},{"source":"event-emitter.js","name":"detail","original":{"line":77,"column":40},"generated":{"line":1,"column":378}},{"source":"event-emitter.js","name":"cancelable","original":{"line":77,"column":48},"generated":{"line":1,"column":380}},{"source":"event-emitter.js","original":{"line":77,"column":60},"generated":{"line":1,"column":392}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":398}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":406}},{"source":"event-emitter.js","original":{"line":149,"column":0},"generated":{"line":1,"column":414}},{"source":"event-emitter.js","name":"ARENAEventEmitter","original":{"line":86,"column":0},"generated":{"line":1,"column":416}},{"source":"event-emitter.js","name":"events","original":{"line":86,"column":18},"generated":{"line":1,"column":418}},{"source":"event-emitter.js","original":{"line":86,"column":27},"generated":{"line":1,"column":425}},{"source":"event-emitter.js","name":"JITSI_CONNECT","original":{"line":100,"column":4},"generated":{"line":1,"column":426}},{"source":"event-emitter.js","original":{"line":100,"column":19},"generated":{"line":1,"column":440}},{"source":"event-emitter.js","name":"USER_JOINED","original":{"line":113,"column":4},"generated":{"line":1,"column":456}},{"source":"event-emitter.js","original":{"line":113,"column":17},"generated":{"line":1,"column":468}},{"source":"event-emitter.js","name":"SCREENSHARE","original":{"line":126,"column":4},"generated":{"line":1,"column":482}},{"source":"event-emitter.js","original":{"line":126,"column":17},"generated":{"line":1,"column":494}},{"source":"event-emitter.js","name":"USER_LEFT","original":{"line":136,"column":4},"generated":{"line":1,"column":508}},{"source":"event-emitter.js","original":{"line":136,"column":15},"generated":{"line":1,"column":518}},{"source":"event-emitter.js","name":"ARENAEventEmitter","original":{"line":144,"column":0},"generated":{"line":1,"column":531}},{"source":"event-emitter.js","name":"sources","original":{"line":144,"column":18},"generated":{"line":1,"column":533}},{"source":"event-emitter.js","original":{"line":144,"column":28},"generated":{"line":1,"column":541}},{"source":"event-emitter.js","name":"JITSI","original":{"line":145,"column":4},"generated":{"line":1,"column":542}},{"source":"event-emitter.js","original":{"line":145,"column":11},"generated":{"line":1,"column":548}},{"source":"event-emitter.js","name":"CHAT","original":{"line":146,"column":4},"generated":{"line":1,"column":556}},{"source":"event-emitter.js","original":{"line":146,"column":10},"generated":{"line":1,"column":561}},{"source":"event-emitter.js","name":"exports","original":{"line":149,"column":0},"generated":{"line":1,"column":569}},{"source":"event-emitter.js","name":"ARENAEventEmitter","original":{"line":149,"column":8},"generated":{"line":1,"column":577}},{"source":"event-emitter.js","name":"ARENAEventEmitter","original":{"line":149,"column":28},"generated":{"line":1,"column":595}}],"sources":{"event-emitter.js":"\n/** Class encapsulating an EventTarget for ARENA events.\n * See events and documentation of callbacks bellow\n*/\nexport default class ARENAEventEmitter {\n    /**\n     * Create an event emitter.\n     */\n    constructor() {\n        this._target = new EventTarget();\n    }\n\n    /**\n     * Add a listner\n     *\n     * Ussage example:\n     *\n     *  on(ARENAEventEmitter.events.USER_JOINED, userJoinCallback);\n     *\n     *  Will register 'userJoinCallback' to be called when a USER_JOINED event is dispatched;\n     *  userJoinCallback might look like:\n     *\n     *    userJoinCallback(e) {\n     *      // event type should match, unless this function is registered as a callback for several different events\n     *      if (e.type !==  ARENAEventEmitter.events.USER_JOINED) return;\n     *      const args = e.detail; // receive arguments as defined by {userJoinCallback}\n     *      console.log(\"User join: \", args.id, args.dn, args.cn, args.scene, args.src);\n     *    }\n     *\n     * @param {string} eventName name of the event\n     * @param {jitsiConnectCallback|userJoinCallback|userLeftCallback} listener callback (see callback definitions)\n     * @return {undefined}\n     */\n    on(eventName, listener) {\n        return this._target.addEventListener(eventName, listener);\n    }\n\n    /**\n     * Event listner that is removed after being called once\n     *\n     * @param {string} eventName name of the event\n     * @param {jitsiConnectCallback|userJoinCallback|userLeftCallback} listener callback\n     * @return {undefined}\n     */\n    once(eventName, listener) {\n        return this._target.addEventListener(eventName, listener, {once: true});\n    }\n\n    /**\n     * Remove listner\n     *\n     * @param {string} eventName name of the event\n     * @param {jitsiConnectCallback|userJoinCallback|userLeftCallback} listener callback\n     * @return {undefined}\n     */\n    off(eventName, listener) {\n        return this._target.removeEventListener(eventName, listener);\n    }\n\n    /**\n     * Emit event\n     *\n     * Usage example:\n     *  emit(ARENAEventEmitter.events.USER_JOINED, {id: '1356_X', dn: 'User X', cn: 'camera_1356_X',\n     *   scene: 'ascene', src: ARENAEventEmitter.sources.JITSI});\n     *\n     *  Emits a USER_JOINED event, with the defined custom callback arguments: id, dn, cn, scene and\n     *  src (see {userJoinCallback})\n     *\n     * @param {string} eventName name of the event\n     * @param {Object} detail custom event properties\n     * @return {undefined}\n     */\n    emit(eventName, detail) {\n        // console.info(\"EVENT:\", eventName, detail);\n        return this._target.dispatchEvent(\n            new CustomEvent(eventName, {detail, cancelable: true}),\n        );\n    }\n}\n\n/**\n* Definitions of events and documentation of callbacks\n* (outside the class for pre-ES6 browsers)\n*/\nARENAEventEmitter.events = {\n    /**\n    * Indicates we joined a jitsi conference (also on reconnect),\n    * provides a list of current users/participants:\n    * @typedef {Object} UserData\n    * @param id {string} the ARENA id of the user\n    * @param dn {string} the display name of the user\n    * @param cn {string} the camera name of the user\n    *\n    * The following parameters are passed to listeners (event.detail object):\n    * @callback jitsiConnectCallback\n    * @param scene {string} the scene\n    * @param pl {[]} participant list; array of {UserData} objects\n    */\n    JITSI_CONNECT: 'jitsi_connect',\n\n    /**\n    * Indicates a user joined. The event provides\n    * the following parameters to its listeners (event.detail object):\n    *\n    * @callback userJoinCallback\n    * @param id {string} the ARENA id of the user\n    * @param dn {string} the display name of the user\n    * @param cn {string} the camera name of the user\n    * @param scene {string} the scene\n    * @param src {string} the source of the event (see ARENAEventEmitter.sources below)\n    */\n    USER_JOINED: 'user_joined',\n\n    /**\n    * Indicates a user joined. The event provides\n    * the following parameters to its listeners (event.detail object):\n    *\n    * @callback userJoinCallback\n    * @param id {string} the ARENA id of the user\n    * @param dn {string} the display name of the user\n    * @param cn {string} the camera name of the user\n    * @param scene {string} the scene\n    * @param src {string} the source of the event (see ARENAEventEmitter.sources below)\n    */\n    SCREENSHARE: 'screenshare',\n\n    /**\n    * Indicates a user joined. The event provides\n    * the following parameters to its listeners (event.detail object):\n    *\n    * @callback userLeftCallback\n    * @param id {string} the ARENA id of the user\n    * @param src {string} the source of the event (see ARENAEventEmitter.sources below)\n    */\n    USER_LEFT: 'user_left',\n};\n\n/**\n* Modules that are possible event sources\n* Used for events where the source is relevant/needed: {jitsiConnectCallback|userJoinCallback|userLeftCallback|...}\n*\n*/\nARENAEventEmitter.sources = {\n    JITSI: 'jitsi',\n    CHAT: 'chat',\n};\n\nexports.ARENAEventEmitter = ARENAEventEmitter;\n\n"},"lineCount":null}},"error":null,"hash":"1065baa4521ec5f19f03bbe6b2a0ac78","cacheData":{"env":{}}}