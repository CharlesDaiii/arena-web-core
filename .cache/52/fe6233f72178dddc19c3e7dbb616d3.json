{"id":"KW6x","dependencies":[{"name":"/home/ubuntu/dev/elu2/package.json","includedInParent":true,"mtime":1610121702865}],"generated":{"js":"AFRAME.registerComponent(\"arena-camera\",{schema:{enabled:{type:\"boolean\",default:!1},displayName:{type:\"string\",default:\"No Name\"},color:{type:\"string\",default:\"#\"+Math.floor(16777215*Math.random()).toString(16)},rotation:{type:\"vec4\",default:new THREE.Quaternion},position:{type:\"vec3\",default:new THREE.Vector3},vioRotation:{type:\"vec4\",default:new THREE.Quaternion},vioPosition:{type:\"vec3\",default:new THREE.Vector3}},init:function(){this.vioMatrix=new THREE.Matrix4,this.camParent=new THREE.Matrix4,this.cam=new THREE.Matrix4,this.cpi=new THREE.Matrix4,this.lastPose=\"\",this.heartBeatCounter=0,this.tick=AFRAME.utils.throttleTick(this.tick,ARENA.updateMillis,this)},publishPose(){const t=this.data;if(!t.enabled)return;const i={object_id:ARENA.camName,displayName:t.displayName,action:\"create\",type:\"object\",data:{object_type:\"camera\",position:{x:parseFloat(t.position.x.toFixed(3)),y:parseFloat(t.position.y.toFixed(3)),z:parseFloat(t.position.z.toFixed(3))},rotation:{x:parseFloat(t.rotation._x.toFixed(3)),y:parseFloat(t.rotation._y.toFixed(3)),z:parseFloat(t.rotation._z.toFixed(3)),w:parseFloat(t.rotation._w.toFixed(3))},color:t.color}};ARENA.JitsiAPI&&(i.jitsiId=ARENA.JitsiAPI.getJitsiId(),i.hasAudio=ARENA.JitsiAPI.hasAudio(),i.hasVideo=ARENA.JitsiAPI.hasVideo()),ARENA.FaceTracker&&(i.hasAvatar=ARENA.FaceTracker.running()),publish(ARENA.outputTopic+ARENA.camName,i)},publishVio(){const t=this.data;if(t.enabled&&\"\"!==ARENA.fixedCamera){const i={object_id:ARENA.camName,action:\"create\",type:\"object\",data:{object_type:\"camera\",position:{x:parseFloat(t.vioPosition.x.toFixed(3)),y:parseFloat(t.vioPosition.y.toFixed(3)),z:parseFloat(t.vioPosition.z.toFixed(3))},rotation:{x:parseFloat(t.vioRotation._x.toFixed(3)),y:parseFloat(t.vioRotation._y.toFixed(3)),z:parseFloat(t.vioRotation._z.toFixed(3)),w:parseFloat(t.vioRotation._w.toFixed(3))},color:t.color}};publish(ARENA.vioTopic+ARENA.camName,i)}},publishHeadText(){const t=this.data;publish(ARENA.outputTopic+ARENA.scenenameParam+\"/head-text_\"+ARENA.camName,{object_id:ARENA.camName,action:\"create\",type:\"object\",displayName:t.displayName,data:{object_type:\"headtext\"}})},update(t){this.data.displayName!==t.displayName&&this.publishHeadText()},tick:function(t,i){const o=this.data,a=this.el;this.heartBeatCounter++,o.rotation.setFromRotationMatrix(a.object3D.matrixWorld),o.position.setFromMatrixPosition(a.object3D.matrixWorld),this.camParent=a.object3D.parent.matrixWorld,this.cam=a.object3D.matrixWorld,this.cpi.getInverse(this.camParent),this.cpi.multiply(this.cam),this.vioMatrix.copy(this.cpi),o.vioRotation.setFromRotationMatrix(this.cpi),o.vioPosition.setFromMatrixPosition(this.cpi);const e=rotToText(o.rotation)+\" \"+coordsToText(o.position);this.lastPose===e&&this.heartBeatCounter%(1e3/ARENA.updateMillis)!=0||(this.publishPose(),this.publishVio(),this.lastPose=e)}});"},"sourceMaps":{"js":{"mappings":[{"source":"components/arena-camera.js","name":"AFRAME","original":{"line":7,"column":0},"generated":{"line":1,"column":0}},{"source":"components/arena-camera.js","name":"registerComponent","original":{"line":7,"column":7},"generated":{"line":1,"column":7}},{"source":"components/arena-camera.js","original":{"line":7,"column":25},"generated":{"line":1,"column":25}},{"source":"components/arena-camera.js","original":{"line":7,"column":41},"generated":{"line":1,"column":40}},{"source":"components/arena-camera.js","name":"schema","original":{"line":8,"column":4},"generated":{"line":1,"column":41}},{"source":"components/arena-camera.js","original":{"line":8,"column":12},"generated":{"line":1,"column":48}},{"source":"components/arena-camera.js","name":"enabled","original":{"line":9,"column":8},"generated":{"line":1,"column":49}},{"source":"components/arena-camera.js","original":{"line":9,"column":17},"generated":{"line":1,"column":57}},{"source":"components/arena-camera.js","name":"type","original":{"line":9,"column":18},"generated":{"line":1,"column":58}},{"source":"components/arena-camera.js","original":{"line":9,"column":24},"generated":{"line":1,"column":63}},{"source":"components/arena-camera.js","name":"default","original":{"line":9,"column":35},"generated":{"line":1,"column":73}},{"source":"components/arena-camera.js","original":{"line":9,"column":44},"generated":{"line":1,"column":82}},{"source":"components/arena-camera.js","name":"displayName","original":{"line":10,"column":8},"generated":{"line":1,"column":85}},{"source":"components/arena-camera.js","original":{"line":10,"column":21},"generated":{"line":1,"column":97}},{"source":"components/arena-camera.js","name":"type","original":{"line":10,"column":22},"generated":{"line":1,"column":98}},{"source":"components/arena-camera.js","original":{"line":10,"column":28},"generated":{"line":1,"column":103}},{"source":"components/arena-camera.js","name":"default","original":{"line":10,"column":38},"generated":{"line":1,"column":112}},{"source":"components/arena-camera.js","original":{"line":10,"column":47},"generated":{"line":1,"column":120}},{"source":"components/arena-camera.js","name":"color","original":{"line":11,"column":8},"generated":{"line":1,"column":131}},{"source":"components/arena-camera.js","original":{"line":11,"column":15},"generated":{"line":1,"column":137}},{"source":"components/arena-camera.js","name":"type","original":{"line":11,"column":16},"generated":{"line":1,"column":138}},{"source":"components/arena-camera.js","original":{"line":11,"column":22},"generated":{"line":1,"column":143}},{"source":"components/arena-camera.js","name":"default","original":{"line":11,"column":32},"generated":{"line":1,"column":152}},{"source":"components/arena-camera.js","original":{"line":11,"column":41},"generated":{"line":1,"column":160}},{"source":"components/arena-camera.js","name":"Math","original":{"line":11,"column":47},"generated":{"line":1,"column":164}},{"source":"components/arena-camera.js","name":"floor","original":{"line":11,"column":52},"generated":{"line":1,"column":169}},{"source":"components/arena-camera.js","original":{"line":11,"column":74},"generated":{"line":1,"column":175}},{"source":"components/arena-camera.js","name":"Math","original":{"line":11,"column":58},"generated":{"line":1,"column":184}},{"source":"components/arena-camera.js","name":"random","original":{"line":11,"column":63},"generated":{"line":1,"column":189}},{"source":"components/arena-camera.js","name":"toString","original":{"line":11,"column":84},"generated":{"line":1,"column":199}},{"source":"components/arena-camera.js","original":{"line":11,"column":93},"generated":{"line":1,"column":208}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":12,"column":8},"generated":{"line":1,"column":213}},{"source":"components/arena-camera.js","original":{"line":12,"column":18},"generated":{"line":1,"column":222}},{"source":"components/arena-camera.js","name":"type","original":{"line":12,"column":19},"generated":{"line":1,"column":223}},{"source":"components/arena-camera.js","original":{"line":12,"column":25},"generated":{"line":1,"column":228}},{"source":"components/arena-camera.js","name":"default","original":{"line":12,"column":33},"generated":{"line":1,"column":235}},{"source":"components/arena-camera.js","original":{"line":12,"column":42},"generated":{"line":1,"column":243}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":12,"column":46},"generated":{"line":1,"column":247}},{"source":"components/arena-camera.js","name":"Quaternion","original":{"line":12,"column":52},"generated":{"line":1,"column":253}},{"source":"components/arena-camera.js","name":"position","original":{"line":13,"column":8},"generated":{"line":1,"column":265}},{"source":"components/arena-camera.js","original":{"line":13,"column":18},"generated":{"line":1,"column":274}},{"source":"components/arena-camera.js","name":"type","original":{"line":13,"column":19},"generated":{"line":1,"column":275}},{"source":"components/arena-camera.js","original":{"line":13,"column":25},"generated":{"line":1,"column":280}},{"source":"components/arena-camera.js","name":"default","original":{"line":13,"column":33},"generated":{"line":1,"column":287}},{"source":"components/arena-camera.js","original":{"line":13,"column":42},"generated":{"line":1,"column":295}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":13,"column":46},"generated":{"line":1,"column":299}},{"source":"components/arena-camera.js","name":"Vector3","original":{"line":13,"column":52},"generated":{"line":1,"column":305}},{"source":"components/arena-camera.js","name":"vioRotation","original":{"line":14,"column":8},"generated":{"line":1,"column":314}},{"source":"components/arena-camera.js","original":{"line":14,"column":21},"generated":{"line":1,"column":326}},{"source":"components/arena-camera.js","name":"type","original":{"line":14,"column":22},"generated":{"line":1,"column":327}},{"source":"components/arena-camera.js","original":{"line":14,"column":28},"generated":{"line":1,"column":332}},{"source":"components/arena-camera.js","name":"default","original":{"line":14,"column":36},"generated":{"line":1,"column":339}},{"source":"components/arena-camera.js","original":{"line":14,"column":45},"generated":{"line":1,"column":347}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":14,"column":49},"generated":{"line":1,"column":351}},{"source":"components/arena-camera.js","name":"Quaternion","original":{"line":14,"column":55},"generated":{"line":1,"column":357}},{"source":"components/arena-camera.js","name":"vioPosition","original":{"line":15,"column":8},"generated":{"line":1,"column":369}},{"source":"components/arena-camera.js","original":{"line":15,"column":21},"generated":{"line":1,"column":381}},{"source":"components/arena-camera.js","name":"type","original":{"line":15,"column":22},"generated":{"line":1,"column":382}},{"source":"components/arena-camera.js","original":{"line":15,"column":28},"generated":{"line":1,"column":387}},{"source":"components/arena-camera.js","name":"default","original":{"line":15,"column":36},"generated":{"line":1,"column":394}},{"source":"components/arena-camera.js","original":{"line":15,"column":45},"generated":{"line":1,"column":402}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":15,"column":49},"generated":{"line":1,"column":406}},{"source":"components/arena-camera.js","name":"Vector3","original":{"line":15,"column":55},"generated":{"line":1,"column":412}},{"source":"components/arena-camera.js","name":"init","original":{"line":18,"column":4},"generated":{"line":1,"column":422}},{"source":"components/arena-camera.js","original":{"line":18,"column":10},"generated":{"line":1,"column":427}},{"source":"components/arena-camera.js","name":"vioMatrix","original":{"line":19,"column":13},"generated":{"line":1,"column":438}},{"source":"components/arena-camera.js","name":"vioMatrix","original":{"line":19,"column":13},"generated":{"line":1,"column":443}},{"source":"components/arena-camera.js","original":{"line":19,"column":25},"generated":{"line":1,"column":453}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":19,"column":29},"generated":{"line":1,"column":457}},{"source":"components/arena-camera.js","name":"Matrix4","original":{"line":19,"column":35},"generated":{"line":1,"column":463}},{"source":"components/arena-camera.js","name":"camParent","original":{"line":20,"column":13},"generated":{"line":1,"column":471}},{"source":"components/arena-camera.js","name":"camParent","original":{"line":20,"column":13},"generated":{"line":1,"column":476}},{"source":"components/arena-camera.js","original":{"line":20,"column":25},"generated":{"line":1,"column":486}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":20,"column":29},"generated":{"line":1,"column":490}},{"source":"components/arena-camera.js","name":"Matrix4","original":{"line":20,"column":35},"generated":{"line":1,"column":496}},{"source":"components/arena-camera.js","name":"cam","original":{"line":21,"column":13},"generated":{"line":1,"column":504}},{"source":"components/arena-camera.js","name":"cam","original":{"line":21,"column":13},"generated":{"line":1,"column":509}},{"source":"components/arena-camera.js","original":{"line":21,"column":19},"generated":{"line":1,"column":513}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":21,"column":23},"generated":{"line":1,"column":517}},{"source":"components/arena-camera.js","name":"Matrix4","original":{"line":21,"column":29},"generated":{"line":1,"column":523}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":22,"column":13},"generated":{"line":1,"column":531}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":22,"column":13},"generated":{"line":1,"column":536}},{"source":"components/arena-camera.js","original":{"line":22,"column":19},"generated":{"line":1,"column":540}},{"source":"components/arena-camera.js","name":"THREE","original":{"line":22,"column":23},"generated":{"line":1,"column":544}},{"source":"components/arena-camera.js","name":"Matrix4","original":{"line":22,"column":29},"generated":{"line":1,"column":550}},{"source":"components/arena-camera.js","name":"lastPose","original":{"line":24,"column":13},"generated":{"line":1,"column":558}},{"source":"components/arena-camera.js","name":"lastPose","original":{"line":24,"column":13},"generated":{"line":1,"column":563}},{"source":"components/arena-camera.js","original":{"line":24,"column":24},"generated":{"line":1,"column":572}},{"source":"components/arena-camera.js","name":"heartBeatCounter","original":{"line":26,"column":13},"generated":{"line":1,"column":575}},{"source":"components/arena-camera.js","name":"heartBeatCounter","original":{"line":26,"column":13},"generated":{"line":1,"column":580}},{"source":"components/arena-camera.js","original":{"line":26,"column":32},"generated":{"line":1,"column":597}},{"source":"components/arena-camera.js","name":"tick","original":{"line":27,"column":13},"generated":{"line":1,"column":599}},{"source":"components/arena-camera.js","name":"tick","original":{"line":27,"column":13},"generated":{"line":1,"column":604}},{"source":"components/arena-camera.js","name":"AFRAME","original":{"line":27,"column":20},"generated":{"line":1,"column":609}},{"source":"components/arena-camera.js","name":"utils","original":{"line":27,"column":27},"generated":{"line":1,"column":616}},{"source":"components/arena-camera.js","name":"throttleTick","original":{"line":27,"column":33},"generated":{"line":1,"column":622}},{"source":"components/arena-camera.js","original":{"line":27,"column":46},"generated":{"line":1,"column":635}},{"source":"components/arena-camera.js","name":"tick","original":{"line":27,"column":51},"generated":{"line":1,"column":640}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":27,"column":57},"generated":{"line":1,"column":645}},{"source":"components/arena-camera.js","name":"updateMillis","original":{"line":27,"column":63},"generated":{"line":1,"column":651}},{"source":"components/arena-camera.js","original":{"line":27,"column":77},"generated":{"line":1,"column":664}},{"source":"components/arena-camera.js","name":"publishPose","original":{"line":30,"column":4},"generated":{"line":1,"column":671}},{"source":"components/arena-camera.js","name":"data","original":{"line":31,"column":14},"generated":{"line":1,"column":685}},{"source":"components/arena-camera.js","name":"data","original":{"line":31,"column":14},"generated":{"line":1,"column":691}},{"source":"components/arena-camera.js","original":{"line":31,"column":21},"generated":{"line":1,"column":693}},{"source":"components/arena-camera.js","name":"data","original":{"line":31,"column":26},"generated":{"line":1,"column":698}},{"source":"components/arena-camera.js","original":{"line":32,"column":12},"generated":{"line":1,"column":703}},{"source":"components/arena-camera.js","name":"data","original":{"line":32,"column":13},"generated":{"line":1,"column":707}},{"source":"components/arena-camera.js","name":"enabled","original":{"line":32,"column":18},"generated":{"line":1,"column":709}},{"source":"components/arena-camera.js","original":{"line":32,"column":27},"generated":{"line":1,"column":717}},{"source":"components/arena-camera.js","name":"msg","original":{"line":34,"column":14},"generated":{"line":1,"column":724}},{"source":"components/arena-camera.js","name":"msg","original":{"line":34,"column":14},"generated":{"line":1,"column":730}},{"source":"components/arena-camera.js","original":{"line":34,"column":20},"generated":{"line":1,"column":732}},{"source":"components/arena-camera.js","name":"object_id","original":{"line":35,"column":12},"generated":{"line":1,"column":733}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":35,"column":23},"generated":{"line":1,"column":743}},{"source":"components/arena-camera.js","name":"camName","original":{"line":35,"column":29},"generated":{"line":1,"column":749}},{"source":"components/arena-camera.js","name":"displayName","original":{"line":36,"column":12},"generated":{"line":1,"column":757}},{"source":"components/arena-camera.js","name":"data","original":{"line":36,"column":25},"generated":{"line":1,"column":769}},{"source":"components/arena-camera.js","name":"displayName","original":{"line":36,"column":30},"generated":{"line":1,"column":771}},{"source":"components/arena-camera.js","name":"action","original":{"line":37,"column":12},"generated":{"line":1,"column":783}},{"source":"components/arena-camera.js","original":{"line":37,"column":20},"generated":{"line":1,"column":790}},{"source":"components/arena-camera.js","name":"type","original":{"line":38,"column":12},"generated":{"line":1,"column":799}},{"source":"components/arena-camera.js","original":{"line":38,"column":18},"generated":{"line":1,"column":804}},{"source":"components/arena-camera.js","name":"data","original":{"line":39,"column":12},"generated":{"line":1,"column":813}},{"source":"components/arena-camera.js","original":{"line":39,"column":18},"generated":{"line":1,"column":818}},{"source":"components/arena-camera.js","name":"object_type","original":{"line":40,"column":16},"generated":{"line":1,"column":819}},{"source":"components/arena-camera.js","original":{"line":40,"column":29},"generated":{"line":1,"column":831}},{"source":"components/arena-camera.js","name":"position","original":{"line":41,"column":16},"generated":{"line":1,"column":840}},{"source":"components/arena-camera.js","original":{"line":41,"column":26},"generated":{"line":1,"column":849}},{"source":"components/arena-camera.js","name":"x","original":{"line":42,"column":20},"generated":{"line":1,"column":850}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":42,"column":23},"generated":{"line":1,"column":852}},{"source":"components/arena-camera.js","name":"data","original":{"line":42,"column":34},"generated":{"line":1,"column":863}},{"source":"components/arena-camera.js","name":"position","original":{"line":42,"column":39},"generated":{"line":1,"column":865}},{"source":"components/arena-camera.js","name":"x","original":{"line":42,"column":48},"generated":{"line":1,"column":874}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":42,"column":50},"generated":{"line":1,"column":876}},{"source":"components/arena-camera.js","original":{"line":42,"column":58},"generated":{"line":1,"column":884}},{"source":"components/arena-camera.js","name":"y","original":{"line":43,"column":20},"generated":{"line":1,"column":888}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":43,"column":23},"generated":{"line":1,"column":890}},{"source":"components/arena-camera.js","name":"data","original":{"line":43,"column":34},"generated":{"line":1,"column":901}},{"source":"components/arena-camera.js","name":"position","original":{"line":43,"column":39},"generated":{"line":1,"column":903}},{"source":"components/arena-camera.js","name":"y","original":{"line":43,"column":48},"generated":{"line":1,"column":912}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":43,"column":50},"generated":{"line":1,"column":914}},{"source":"components/arena-camera.js","original":{"line":43,"column":58},"generated":{"line":1,"column":922}},{"source":"components/arena-camera.js","name":"z","original":{"line":44,"column":20},"generated":{"line":1,"column":926}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":44,"column":23},"generated":{"line":1,"column":928}},{"source":"components/arena-camera.js","name":"data","original":{"line":44,"column":34},"generated":{"line":1,"column":939}},{"source":"components/arena-camera.js","name":"position","original":{"line":44,"column":39},"generated":{"line":1,"column":941}},{"source":"components/arena-camera.js","name":"z","original":{"line":44,"column":48},"generated":{"line":1,"column":950}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":44,"column":50},"generated":{"line":1,"column":952}},{"source":"components/arena-camera.js","original":{"line":44,"column":58},"generated":{"line":1,"column":960}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":46,"column":16},"generated":{"line":1,"column":965}},{"source":"components/arena-camera.js","original":{"line":46,"column":26},"generated":{"line":1,"column":974}},{"source":"components/arena-camera.js","name":"x","original":{"line":47,"column":20},"generated":{"line":1,"column":975}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":47,"column":23},"generated":{"line":1,"column":977}},{"source":"components/arena-camera.js","name":"data","original":{"line":47,"column":34},"generated":{"line":1,"column":988}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":47,"column":39},"generated":{"line":1,"column":990}},{"source":"components/arena-camera.js","name":"_x","original":{"line":47,"column":48},"generated":{"line":1,"column":999}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":47,"column":51},"generated":{"line":1,"column":1002}},{"source":"components/arena-camera.js","original":{"line":47,"column":59},"generated":{"line":1,"column":1010}},{"source":"components/arena-camera.js","name":"y","original":{"line":48,"column":20},"generated":{"line":1,"column":1014}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":48,"column":23},"generated":{"line":1,"column":1016}},{"source":"components/arena-camera.js","name":"data","original":{"line":48,"column":34},"generated":{"line":1,"column":1027}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":48,"column":39},"generated":{"line":1,"column":1029}},{"source":"components/arena-camera.js","name":"_y","original":{"line":48,"column":48},"generated":{"line":1,"column":1038}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":48,"column":51},"generated":{"line":1,"column":1041}},{"source":"components/arena-camera.js","original":{"line":48,"column":59},"generated":{"line":1,"column":1049}},{"source":"components/arena-camera.js","name":"z","original":{"line":49,"column":20},"generated":{"line":1,"column":1053}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":49,"column":23},"generated":{"line":1,"column":1055}},{"source":"components/arena-camera.js","name":"data","original":{"line":49,"column":34},"generated":{"line":1,"column":1066}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":49,"column":39},"generated":{"line":1,"column":1068}},{"source":"components/arena-camera.js","name":"_z","original":{"line":49,"column":48},"generated":{"line":1,"column":1077}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":49,"column":51},"generated":{"line":1,"column":1080}},{"source":"components/arena-camera.js","original":{"line":49,"column":59},"generated":{"line":1,"column":1088}},{"source":"components/arena-camera.js","name":"w","original":{"line":50,"column":20},"generated":{"line":1,"column":1092}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":50,"column":23},"generated":{"line":1,"column":1094}},{"source":"components/arena-camera.js","name":"data","original":{"line":50,"column":34},"generated":{"line":1,"column":1105}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":50,"column":39},"generated":{"line":1,"column":1107}},{"source":"components/arena-camera.js","name":"_w","original":{"line":50,"column":48},"generated":{"line":1,"column":1116}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":50,"column":51},"generated":{"line":1,"column":1119}},{"source":"components/arena-camera.js","original":{"line":50,"column":59},"generated":{"line":1,"column":1127}},{"source":"components/arena-camera.js","name":"color","original":{"line":52,"column":16},"generated":{"line":1,"column":1132}},{"source":"components/arena-camera.js","name":"data","original":{"line":52,"column":23},"generated":{"line":1,"column":1138}},{"source":"components/arena-camera.js","name":"color","original":{"line":52,"column":28},"generated":{"line":1,"column":1140}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":56,"column":12},"generated":{"line":1,"column":1148}},{"source":"components/arena-camera.js","name":"JitsiAPI","original":{"line":56,"column":18},"generated":{"line":1,"column":1154}},{"source":"components/arena-camera.js","name":"msg","original":{"line":57,"column":12},"generated":{"line":1,"column":1165}},{"source":"components/arena-camera.js","name":"jitsiId","original":{"line":57,"column":16},"generated":{"line":1,"column":1167}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":57,"column":26},"generated":{"line":1,"column":1175}},{"source":"components/arena-camera.js","name":"JitsiAPI","original":{"line":57,"column":32},"generated":{"line":1,"column":1181}},{"source":"components/arena-camera.js","name":"getJitsiId","original":{"line":57,"column":41},"generated":{"line":1,"column":1190}},{"source":"components/arena-camera.js","name":"msg","original":{"line":58,"column":12},"generated":{"line":1,"column":1203}},{"source":"components/arena-camera.js","name":"hasAudio","original":{"line":58,"column":16},"generated":{"line":1,"column":1205}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":58,"column":27},"generated":{"line":1,"column":1214}},{"source":"components/arena-camera.js","name":"JitsiAPI","original":{"line":58,"column":33},"generated":{"line":1,"column":1220}},{"source":"components/arena-camera.js","name":"hasAudio","original":{"line":58,"column":42},"generated":{"line":1,"column":1229}},{"source":"components/arena-camera.js","name":"msg","original":{"line":59,"column":12},"generated":{"line":1,"column":1240}},{"source":"components/arena-camera.js","name":"hasVideo","original":{"line":59,"column":16},"generated":{"line":1,"column":1242}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":59,"column":27},"generated":{"line":1,"column":1251}},{"source":"components/arena-camera.js","name":"JitsiAPI","original":{"line":59,"column":33},"generated":{"line":1,"column":1257}},{"source":"components/arena-camera.js","name":"hasVideo","original":{"line":59,"column":42},"generated":{"line":1,"column":1266}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":62,"column":12},"generated":{"line":1,"column":1278}},{"source":"components/arena-camera.js","name":"FaceTracker","original":{"line":62,"column":18},"generated":{"line":1,"column":1284}},{"source":"components/arena-camera.js","name":"msg","original":{"line":63,"column":12},"generated":{"line":1,"column":1298}},{"source":"components/arena-camera.js","name":"hasAvatar","original":{"line":63,"column":16},"generated":{"line":1,"column":1300}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":63,"column":28},"generated":{"line":1,"column":1310}},{"source":"components/arena-camera.js","name":"FaceTracker","original":{"line":63,"column":34},"generated":{"line":1,"column":1316}},{"source":"components/arena-camera.js","name":"running","original":{"line":63,"column":46},"generated":{"line":1,"column":1328}},{"source":"components/arena-camera.js","name":"publish","original":{"line":66,"column":8},"generated":{"line":1,"column":1339}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":66,"column":16},"generated":{"line":1,"column":1347}},{"source":"components/arena-camera.js","name":"outputTopic","original":{"line":66,"column":22},"generated":{"line":1,"column":1353}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":66,"column":36},"generated":{"line":1,"column":1365}},{"source":"components/arena-camera.js","name":"camName","original":{"line":66,"column":42},"generated":{"line":1,"column":1371}},{"source":"components/arena-camera.js","name":"msg","original":{"line":66,"column":51},"generated":{"line":1,"column":1379}},{"source":"components/arena-camera.js","name":"publishVio","original":{"line":69,"column":4},"generated":{"line":1,"column":1383}},{"source":"components/arena-camera.js","name":"data","original":{"line":70,"column":14},"generated":{"line":1,"column":1396}},{"source":"components/arena-camera.js","name":"data","original":{"line":70,"column":14},"generated":{"line":1,"column":1402}},{"source":"components/arena-camera.js","original":{"line":70,"column":21},"generated":{"line":1,"column":1404}},{"source":"components/arena-camera.js","name":"data","original":{"line":70,"column":26},"generated":{"line":1,"column":1409}},{"source":"components/arena-camera.js","original":{"line":71,"column":12},"generated":{"line":1,"column":1414}},{"source":"components/arena-camera.js","name":"data","original":{"line":71,"column":13},"generated":{"line":1,"column":1417}},{"source":"components/arena-camera.js","name":"enabled","original":{"line":71,"column":18},"generated":{"line":1,"column":1419}},{"source":"components/arena-camera.js","original":{"line":73,"column":34},"generated":{"line":1,"column":1428}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":73,"column":12},"generated":{"line":1,"column":1433}},{"source":"components/arena-camera.js","name":"fixedCamera","original":{"line":73,"column":18},"generated":{"line":1,"column":1439}},{"source":"components/arena-camera.js","original":{"line":73,"column":38},"generated":{"line":1,"column":1451}},{"source":"components/arena-camera.js","name":"msg","original":{"line":74,"column":18},"generated":{"line":1,"column":1452}},{"source":"components/arena-camera.js","name":"msg","original":{"line":74,"column":18},"generated":{"line":1,"column":1458}},{"source":"components/arena-camera.js","original":{"line":74,"column":24},"generated":{"line":1,"column":1460}},{"source":"components/arena-camera.js","name":"object_id","original":{"line":75,"column":16},"generated":{"line":1,"column":1461}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":75,"column":27},"generated":{"line":1,"column":1471}},{"source":"components/arena-camera.js","name":"camName","original":{"line":75,"column":33},"generated":{"line":1,"column":1477}},{"source":"components/arena-camera.js","name":"action","original":{"line":76,"column":16},"generated":{"line":1,"column":1485}},{"source":"components/arena-camera.js","original":{"line":76,"column":24},"generated":{"line":1,"column":1492}},{"source":"components/arena-camera.js","name":"type","original":{"line":77,"column":16},"generated":{"line":1,"column":1501}},{"source":"components/arena-camera.js","original":{"line":77,"column":22},"generated":{"line":1,"column":1506}},{"source":"components/arena-camera.js","name":"data","original":{"line":78,"column":16},"generated":{"line":1,"column":1515}},{"source":"components/arena-camera.js","original":{"line":78,"column":22},"generated":{"line":1,"column":1520}},{"source":"components/arena-camera.js","name":"object_type","original":{"line":79,"column":20},"generated":{"line":1,"column":1521}},{"source":"components/arena-camera.js","original":{"line":79,"column":33},"generated":{"line":1,"column":1533}},{"source":"components/arena-camera.js","name":"position","original":{"line":80,"column":20},"generated":{"line":1,"column":1542}},{"source":"components/arena-camera.js","original":{"line":80,"column":30},"generated":{"line":1,"column":1551}},{"source":"components/arena-camera.js","name":"x","original":{"line":81,"column":24},"generated":{"line":1,"column":1552}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":81,"column":27},"generated":{"line":1,"column":1554}},{"source":"components/arena-camera.js","name":"data","original":{"line":81,"column":38},"generated":{"line":1,"column":1565}},{"source":"components/arena-camera.js","name":"vioPosition","original":{"line":81,"column":43},"generated":{"line":1,"column":1567}},{"source":"components/arena-camera.js","name":"x","original":{"line":81,"column":55},"generated":{"line":1,"column":1579}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":81,"column":57},"generated":{"line":1,"column":1581}},{"source":"components/arena-camera.js","original":{"line":81,"column":65},"generated":{"line":1,"column":1589}},{"source":"components/arena-camera.js","name":"y","original":{"line":82,"column":24},"generated":{"line":1,"column":1593}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":82,"column":27},"generated":{"line":1,"column":1595}},{"source":"components/arena-camera.js","name":"data","original":{"line":82,"column":38},"generated":{"line":1,"column":1606}},{"source":"components/arena-camera.js","name":"vioPosition","original":{"line":82,"column":43},"generated":{"line":1,"column":1608}},{"source":"components/arena-camera.js","name":"y","original":{"line":82,"column":55},"generated":{"line":1,"column":1620}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":82,"column":57},"generated":{"line":1,"column":1622}},{"source":"components/arena-camera.js","original":{"line":82,"column":65},"generated":{"line":1,"column":1630}},{"source":"components/arena-camera.js","name":"z","original":{"line":83,"column":24},"generated":{"line":1,"column":1634}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":83,"column":27},"generated":{"line":1,"column":1636}},{"source":"components/arena-camera.js","name":"data","original":{"line":83,"column":38},"generated":{"line":1,"column":1647}},{"source":"components/arena-camera.js","name":"vioPosition","original":{"line":83,"column":43},"generated":{"line":1,"column":1649}},{"source":"components/arena-camera.js","name":"z","original":{"line":83,"column":55},"generated":{"line":1,"column":1661}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":83,"column":57},"generated":{"line":1,"column":1663}},{"source":"components/arena-camera.js","original":{"line":83,"column":65},"generated":{"line":1,"column":1671}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":85,"column":20},"generated":{"line":1,"column":1676}},{"source":"components/arena-camera.js","original":{"line":85,"column":30},"generated":{"line":1,"column":1685}},{"source":"components/arena-camera.js","name":"x","original":{"line":86,"column":24},"generated":{"line":1,"column":1686}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":86,"column":27},"generated":{"line":1,"column":1688}},{"source":"components/arena-camera.js","name":"data","original":{"line":86,"column":38},"generated":{"line":1,"column":1699}},{"source":"components/arena-camera.js","name":"vioRotation","original":{"line":86,"column":43},"generated":{"line":1,"column":1701}},{"source":"components/arena-camera.js","name":"_x","original":{"line":86,"column":55},"generated":{"line":1,"column":1713}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":86,"column":58},"generated":{"line":1,"column":1716}},{"source":"components/arena-camera.js","original":{"line":86,"column":66},"generated":{"line":1,"column":1724}},{"source":"components/arena-camera.js","name":"y","original":{"line":87,"column":24},"generated":{"line":1,"column":1728}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":87,"column":27},"generated":{"line":1,"column":1730}},{"source":"components/arena-camera.js","name":"data","original":{"line":87,"column":38},"generated":{"line":1,"column":1741}},{"source":"components/arena-camera.js","name":"vioRotation","original":{"line":87,"column":43},"generated":{"line":1,"column":1743}},{"source":"components/arena-camera.js","name":"_y","original":{"line":87,"column":55},"generated":{"line":1,"column":1755}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":87,"column":58},"generated":{"line":1,"column":1758}},{"source":"components/arena-camera.js","original":{"line":87,"column":66},"generated":{"line":1,"column":1766}},{"source":"components/arena-camera.js","name":"z","original":{"line":88,"column":24},"generated":{"line":1,"column":1770}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":88,"column":27},"generated":{"line":1,"column":1772}},{"source":"components/arena-camera.js","name":"data","original":{"line":88,"column":38},"generated":{"line":1,"column":1783}},{"source":"components/arena-camera.js","name":"vioRotation","original":{"line":88,"column":43},"generated":{"line":1,"column":1785}},{"source":"components/arena-camera.js","name":"_z","original":{"line":88,"column":55},"generated":{"line":1,"column":1797}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":88,"column":58},"generated":{"line":1,"column":1800}},{"source":"components/arena-camera.js","original":{"line":88,"column":66},"generated":{"line":1,"column":1808}},{"source":"components/arena-camera.js","name":"w","original":{"line":89,"column":24},"generated":{"line":1,"column":1812}},{"source":"components/arena-camera.js","name":"parseFloat","original":{"line":89,"column":27},"generated":{"line":1,"column":1814}},{"source":"components/arena-camera.js","name":"data","original":{"line":89,"column":38},"generated":{"line":1,"column":1825}},{"source":"components/arena-camera.js","name":"vioRotation","original":{"line":89,"column":43},"generated":{"line":1,"column":1827}},{"source":"components/arena-camera.js","name":"_w","original":{"line":89,"column":55},"generated":{"line":1,"column":1839}},{"source":"components/arena-camera.js","name":"toFixed","original":{"line":89,"column":58},"generated":{"line":1,"column":1842}},{"source":"components/arena-camera.js","original":{"line":89,"column":66},"generated":{"line":1,"column":1850}},{"source":"components/arena-camera.js","name":"color","original":{"line":91,"column":20},"generated":{"line":1,"column":1855}},{"source":"components/arena-camera.js","name":"data","original":{"line":91,"column":27},"generated":{"line":1,"column":1861}},{"source":"components/arena-camera.js","name":"color","original":{"line":91,"column":32},"generated":{"line":1,"column":1863}},{"source":"components/arena-camera.js","name":"publish","original":{"line":94,"column":12},"generated":{"line":1,"column":1871}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":94,"column":20},"generated":{"line":1,"column":1879}},{"source":"components/arena-camera.js","name":"vioTopic","original":{"line":94,"column":26},"generated":{"line":1,"column":1885}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":94,"column":37},"generated":{"line":1,"column":1894}},{"source":"components/arena-camera.js","name":"camName","original":{"line":94,"column":43},"generated":{"line":1,"column":1900}},{"source":"components/arena-camera.js","name":"msg","original":{"line":94,"column":52},"generated":{"line":1,"column":1908}},{"source":"components/arena-camera.js","name":"publishHeadText","original":{"line":98,"column":4},"generated":{"line":1,"column":1913}},{"source":"components/arena-camera.js","name":"data","original":{"line":99,"column":14},"generated":{"line":1,"column":1931}},{"source":"components/arena-camera.js","name":"data","original":{"line":99,"column":14},"generated":{"line":1,"column":1937}},{"source":"components/arena-camera.js","original":{"line":99,"column":21},"generated":{"line":1,"column":1939}},{"source":"components/arena-camera.js","name":"data","original":{"line":99,"column":26},"generated":{"line":1,"column":1944}},{"source":"components/arena-camera.js","name":"publish","original":{"line":101,"column":8},"generated":{"line":1,"column":1949}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":101,"column":16},"generated":{"line":1,"column":1957}},{"source":"components/arena-camera.js","name":"outputTopic","original":{"line":101,"column":22},"generated":{"line":1,"column":1963}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":101,"column":36},"generated":{"line":1,"column":1975}},{"source":"components/arena-camera.js","name":"scenenameParam","original":{"line":101,"column":42},"generated":{"line":1,"column":1981}},{"source":"components/arena-camera.js","original":{"line":101,"column":59},"generated":{"line":1,"column":1996}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":101,"column":75},"generated":{"line":1,"column":2010}},{"source":"components/arena-camera.js","name":"camName","original":{"line":101,"column":81},"generated":{"line":1,"column":2016}},{"source":"components/arena-camera.js","original":{"line":101,"column":90},"generated":{"line":1,"column":2024}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":102,"column":25},"generated":{"line":1,"column":2025}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":102,"column":25},"generated":{"line":1,"column":2035}},{"source":"components/arena-camera.js","name":"camName","original":{"line":102,"column":31},"generated":{"line":1,"column":2041}},{"source":"components/arena-camera.js","original":{"line":103,"column":22},"generated":{"line":1,"column":2049}},{"source":"components/arena-camera.js","original":{"line":103,"column":22},"generated":{"line":1,"column":2056}},{"source":"components/arena-camera.js","original":{"line":104,"column":20},"generated":{"line":1,"column":2065}},{"source":"components/arena-camera.js","original":{"line":104,"column":20},"generated":{"line":1,"column":2070}},{"source":"components/arena-camera.js","name":"data","original":{"line":105,"column":27},"generated":{"line":1,"column":2079}},{"source":"components/arena-camera.js","name":"data","original":{"line":105,"column":27},"generated":{"line":1,"column":2091}},{"source":"components/arena-camera.js","name":"displayName","original":{"line":105,"column":32},"generated":{"line":1,"column":2093}},{"source":"components/arena-camera.js","original":{"line":106,"column":20},"generated":{"line":1,"column":2105}},{"source":"components/arena-camera.js","original":{"line":106,"column":20},"generated":{"line":1,"column":2110}},{"source":"components/arena-camera.js","original":{"line":106,"column":36},"generated":{"line":1,"column":2111}},{"source":"components/arena-camera.js","original":{"line":106,"column":36},"generated":{"line":1,"column":2123}},{"source":"components/arena-camera.js","name":"update","original":{"line":110,"column":4},"generated":{"line":1,"column":2138}},{"source":"components/arena-camera.js","name":"oldData","original":{"line":110,"column":11},"generated":{"line":1,"column":2145}},{"source":"components/arena-camera.js","original":{"line":111,"column":21},"generated":{"line":1,"column":2148}},{"source":"components/arena-camera.js","name":"data","original":{"line":111,"column":26},"generated":{"line":1,"column":2153}},{"source":"components/arena-camera.js","name":"displayName","original":{"line":113,"column":17},"generated":{"line":1,"column":2158}},{"source":"components/arena-camera.js","name":"oldData","original":{"line":113,"column":33},"generated":{"line":1,"column":2172}},{"source":"components/arena-camera.js","name":"displayName","original":{"line":113,"column":41},"generated":{"line":1,"column":2174}},{"source":"components/arena-camera.js","name":"publishHeadText","original":{"line":114,"column":17},"generated":{"line":1,"column":2187}},{"source":"components/arena-camera.js","name":"publishHeadText","original":{"line":114,"column":17},"generated":{"line":1,"column":2192}},{"source":"components/arena-camera.js","name":"tick","original":{"line":118,"column":4},"generated":{"line":1,"column":2211}},{"source":"components/arena-camera.js","original":{"line":118,"column":11},"generated":{"line":1,"column":2216}},{"source":"components/arena-camera.js","name":"t","original":{"line":118,"column":20},"generated":{"line":1,"column":2225}},{"source":"components/arena-camera.js","name":"dt","original":{"line":118,"column":23},"generated":{"line":1,"column":2227}},{"source":"components/arena-camera.js","name":"data","original":{"line":119,"column":14},"generated":{"line":1,"column":2230}},{"source":"components/arena-camera.js","name":"data","original":{"line":119,"column":14},"generated":{"line":1,"column":2236}},{"source":"components/arena-camera.js","original":{"line":119,"column":21},"generated":{"line":1,"column":2238}},{"source":"components/arena-camera.js","name":"data","original":{"line":119,"column":26},"generated":{"line":1,"column":2243}},{"source":"components/arena-camera.js","name":"el","original":{"line":120,"column":14},"generated":{"line":1,"column":2248}},{"source":"components/arena-camera.js","original":{"line":120,"column":19},"generated":{"line":1,"column":2250}},{"source":"components/arena-camera.js","name":"el","original":{"line":120,"column":24},"generated":{"line":1,"column":2255}},{"source":"components/arena-camera.js","name":"heartBeatCounter","original":{"line":122,"column":13},"generated":{"line":1,"column":2258}},{"source":"components/arena-camera.js","name":"heartBeatCounter","original":{"line":122,"column":13},"generated":{"line":1,"column":2263}},{"source":"components/arena-camera.js","name":"data","original":{"line":124,"column":8},"generated":{"line":1,"column":2282}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":124,"column":13},"generated":{"line":1,"column":2284}},{"source":"components/arena-camera.js","name":"setFromRotationMatrix","original":{"line":124,"column":22},"generated":{"line":1,"column":2293}},{"source":"components/arena-camera.js","name":"el","original":{"line":124,"column":44},"generated":{"line":1,"column":2315}},{"source":"components/arena-camera.js","name":"object3D","original":{"line":124,"column":47},"generated":{"line":1,"column":2317}},{"source":"components/arena-camera.js","name":"matrixWorld","original":{"line":124,"column":56},"generated":{"line":1,"column":2326}},{"source":"components/arena-camera.js","name":"data","original":{"line":125,"column":8},"generated":{"line":1,"column":2339}},{"source":"components/arena-camera.js","name":"position","original":{"line":125,"column":13},"generated":{"line":1,"column":2341}},{"source":"components/arena-camera.js","name":"setFromMatrixPosition","original":{"line":125,"column":22},"generated":{"line":1,"column":2350}},{"source":"components/arena-camera.js","name":"el","original":{"line":125,"column":44},"generated":{"line":1,"column":2372}},{"source":"components/arena-camera.js","name":"object3D","original":{"line":125,"column":47},"generated":{"line":1,"column":2374}},{"source":"components/arena-camera.js","name":"matrixWorld","original":{"line":125,"column":56},"generated":{"line":1,"column":2383}},{"source":"components/arena-camera.js","name":"camParent","original":{"line":127,"column":13},"generated":{"line":1,"column":2396}},{"source":"components/arena-camera.js","name":"camParent","original":{"line":127,"column":13},"generated":{"line":1,"column":2401}},{"source":"components/arena-camera.js","name":"el","original":{"line":127,"column":25},"generated":{"line":1,"column":2411}},{"source":"components/arena-camera.js","name":"object3D","original":{"line":127,"column":28},"generated":{"line":1,"column":2413}},{"source":"components/arena-camera.js","name":"parent","original":{"line":127,"column":37},"generated":{"line":1,"column":2422}},{"source":"components/arena-camera.js","name":"matrixWorld","original":{"line":127,"column":44},"generated":{"line":1,"column":2429}},{"source":"components/arena-camera.js","name":"cam","original":{"line":128,"column":13},"generated":{"line":1,"column":2441}},{"source":"components/arena-camera.js","name":"cam","original":{"line":128,"column":13},"generated":{"line":1,"column":2446}},{"source":"components/arena-camera.js","name":"el","original":{"line":128,"column":19},"generated":{"line":1,"column":2450}},{"source":"components/arena-camera.js","name":"object3D","original":{"line":128,"column":22},"generated":{"line":1,"column":2452}},{"source":"components/arena-camera.js","name":"matrixWorld","original":{"line":128,"column":31},"generated":{"line":1,"column":2461}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":130,"column":13},"generated":{"line":1,"column":2473}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":130,"column":13},"generated":{"line":1,"column":2478}},{"source":"components/arena-camera.js","name":"getInverse","original":{"line":130,"column":17},"generated":{"line":1,"column":2482}},{"source":"components/arena-camera.js","original":{"line":130,"column":28},"generated":{"line":1,"column":2493}},{"source":"components/arena-camera.js","name":"camParent","original":{"line":130,"column":33},"generated":{"line":1,"column":2498}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":131,"column":13},"generated":{"line":1,"column":2509}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":131,"column":13},"generated":{"line":1,"column":2514}},{"source":"components/arena-camera.js","name":"multiply","original":{"line":131,"column":17},"generated":{"line":1,"column":2518}},{"source":"components/arena-camera.js","original":{"line":131,"column":26},"generated":{"line":1,"column":2527}},{"source":"components/arena-camera.js","name":"cam","original":{"line":131,"column":31},"generated":{"line":1,"column":2532}},{"source":"components/arena-camera.js","name":"vioMatrix","original":{"line":133,"column":13},"generated":{"line":1,"column":2537}},{"source":"components/arena-camera.js","name":"vioMatrix","original":{"line":133,"column":13},"generated":{"line":1,"column":2542}},{"source":"components/arena-camera.js","name":"copy","original":{"line":133,"column":23},"generated":{"line":1,"column":2552}},{"source":"components/arena-camera.js","original":{"line":133,"column":28},"generated":{"line":1,"column":2557}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":133,"column":33},"generated":{"line":1,"column":2562}},{"source":"components/arena-camera.js","name":"data","original":{"line":134,"column":8},"generated":{"line":1,"column":2567}},{"source":"components/arena-camera.js","name":"vioRotation","original":{"line":134,"column":13},"generated":{"line":1,"column":2569}},{"source":"components/arena-camera.js","name":"setFromRotationMatrix","original":{"line":134,"column":25},"generated":{"line":1,"column":2581}},{"source":"components/arena-camera.js","original":{"line":134,"column":47},"generated":{"line":1,"column":2603}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":134,"column":52},"generated":{"line":1,"column":2608}},{"source":"components/arena-camera.js","name":"data","original":{"line":135,"column":8},"generated":{"line":1,"column":2613}},{"source":"components/arena-camera.js","name":"vioPosition","original":{"line":135,"column":13},"generated":{"line":1,"column":2615}},{"source":"components/arena-camera.js","name":"setFromMatrixPosition","original":{"line":135,"column":25},"generated":{"line":1,"column":2627}},{"source":"components/arena-camera.js","original":{"line":135,"column":47},"generated":{"line":1,"column":2649}},{"source":"components/arena-camera.js","name":"cpi","original":{"line":135,"column":52},"generated":{"line":1,"column":2654}},{"source":"components/arena-camera.js","name":"rotationCoords","original":{"line":137,"column":14},"generated":{"line":1,"column":2659}},{"source":"components/arena-camera.js","name":"newPose","original":{"line":139,"column":14},"generated":{"line":1,"column":2665}},{"source":"components/arena-camera.js","name":"rotToText","original":{"line":137,"column":31},"generated":{"line":1,"column":2667}},{"source":"components/arena-camera.js","name":"data","original":{"line":137,"column":41},"generated":{"line":1,"column":2677}},{"source":"components/arena-camera.js","name":"rotation","original":{"line":137,"column":46},"generated":{"line":1,"column":2679}},{"source":"components/arena-camera.js","original":{"line":139,"column":41},"generated":{"line":1,"column":2689}},{"source":"components/arena-camera.js","name":"coordsToText","original":{"line":138,"column":31},"generated":{"line":1,"column":2693}},{"source":"components/arena-camera.js","name":"data","original":{"line":138,"column":44},"generated":{"line":1,"column":2706}},{"source":"components/arena-camera.js","name":"position","original":{"line":138,"column":49},"generated":{"line":1,"column":2708}},{"source":"components/arena-camera.js","original":{"line":142,"column":12},"generated":{"line":1,"column":2718}},{"source":"components/arena-camera.js","name":"lastPose","original":{"line":142,"column":17},"generated":{"line":1,"column":2723}},{"source":"components/arena-camera.js","name":"newPose","original":{"line":142,"column":30},"generated":{"line":1,"column":2734}},{"source":"components/arena-camera.js","original":{"line":142,"column":41},"generated":{"line":1,"column":2737}},{"source":"components/arena-camera.js","name":"heartBeatCounter","original":{"line":142,"column":46},"generated":{"line":1,"column":2742}},{"source":"components/arena-camera.js","original":{"line":142,"column":66},"generated":{"line":1,"column":2760}},{"source":"components/arena-camera.js","name":"ARENA","original":{"line":142,"column":73},"generated":{"line":1,"column":2764}},{"source":"components/arena-camera.js","name":"updateMillis","original":{"line":142,"column":79},"generated":{"line":1,"column":2770}},{"source":"components/arena-camera.js","original":{"line":142,"column":96},"generated":{"line":1,"column":2785}},{"source":"components/arena-camera.js","name":"publishPose","original":{"line":143,"column":17},"generated":{"line":1,"column":2789}},{"source":"components/arena-camera.js","name":"publishPose","original":{"line":143,"column":17},"generated":{"line":1,"column":2794}},{"source":"components/arena-camera.js","name":"publishVio","original":{"line":144,"column":17},"generated":{"line":1,"column":2808}},{"source":"components/arena-camera.js","name":"publishVio","original":{"line":144,"column":17},"generated":{"line":1,"column":2813}},{"source":"components/arena-camera.js","name":"lastPose","original":{"line":145,"column":17},"generated":{"line":1,"column":2826}},{"source":"components/arena-camera.js","name":"lastPose","original":{"line":145,"column":17},"generated":{"line":1,"column":2831}},{"source":"components/arena-camera.js","name":"newPose","original":{"line":145,"column":28},"generated":{"line":1,"column":2840}}],"sources":{"components/arena-camera.js":"/* global AFRAME, ARENA */\n\n/**\n * Tracking camera movement in real time. Emits camera pose change and vio change events.\n *\n */\nAFRAME.registerComponent('arena-camera', {\n    schema: {\n        enabled: {type: 'boolean', default: false},\n        displayName: {type: 'string', default: 'No Name'},\n        color: {type: 'string', default: '#' + Math.floor(Math.random() * 16777215).toString(16)},\n        rotation: {type: 'vec4', default: new THREE.Quaternion()},\n        position: {type: 'vec3', default: new THREE.Vector3()},\n        vioRotation: {type: 'vec4', default: new THREE.Quaternion()},\n        vioPosition: {type: 'vec3', default: new THREE.Vector3()},\n    },\n\n    init: function() {\n        this.vioMatrix = new THREE.Matrix4();\n        this.camParent = new THREE.Matrix4();\n        this.cam = new THREE.Matrix4();\n        this.cpi = new THREE.Matrix4();\n\n        this.lastPose = '';\n\n        this.heartBeatCounter = 0;\n        this.tick = AFRAME.utils.throttleTick(this.tick, ARENA.updateMillis, this);\n    },\n\n    publishPose() {\n        const data = this.data;\n        if (!data.enabled) return;\n\n        const msg = {\n            object_id: ARENA.camName,\n            displayName: data.displayName,\n            action: 'create',\n            type: 'object',\n            data: {\n                object_type: 'camera',\n                position: {\n                    x: parseFloat(data.position.x.toFixed(3)),\n                    y: parseFloat(data.position.y.toFixed(3)),\n                    z: parseFloat(data.position.z.toFixed(3)),\n                },\n                rotation: {\n                    x: parseFloat(data.rotation._x.toFixed(3)),\n                    y: parseFloat(data.rotation._y.toFixed(3)),\n                    z: parseFloat(data.rotation._z.toFixed(3)),\n                    w: parseFloat(data.rotation._w.toFixed(3)),\n                },\n                color: data.color,\n            },\n        };\n\n        if (ARENA.JitsiAPI) {\n            msg.jitsiId = ARENA.JitsiAPI.getJitsiId();\n            msg.hasAudio = ARENA.JitsiAPI.hasAudio();\n            msg.hasVideo = ARENA.JitsiAPI.hasVideo();\n        }\n\n        if (ARENA.FaceTracker) {\n            msg.hasAvatar = ARENA.FaceTracker.running();\n        }\n\n        publish(ARENA.outputTopic + ARENA.camName, msg); // extra timestamp info at end for debugging\n    },\n\n    publishVio() {\n        const data = this.data;\n        if (!data.enabled) return;\n\n        if (ARENA.fixedCamera !== '') {\n            const msg = {\n                object_id: ARENA.camName,\n                action: 'create',\n                type: 'object',\n                data: {\n                    object_type: 'camera',\n                    position: {\n                        x: parseFloat(data.vioPosition.x.toFixed(3)),\n                        y: parseFloat(data.vioPosition.y.toFixed(3)),\n                        z: parseFloat(data.vioPosition.z.toFixed(3)),\n                    },\n                    rotation: {\n                        x: parseFloat(data.vioRotation._x.toFixed(3)),\n                        y: parseFloat(data.vioRotation._y.toFixed(3)),\n                        z: parseFloat(data.vioRotation._z.toFixed(3)),\n                        w: parseFloat(data.vioRotation._w.toFixed(3)),\n                    },\n                    color: data.color,\n                },\n            };\n            publish(ARENA.vioTopic + ARENA.camName, msg); // extra timestamp info at end for debugging\n        }\n    },\n\n    publishHeadText() {\n        const data = this.data;\n\n        publish(ARENA.outputTopic + ARENA.scenenameParam + '/head-text_' + ARENA.camName, {\n            'object_id': ARENA.camName,\n            'action': 'create',\n            'type': 'object',\n            'displayName': data.displayName,\n            'data': {'object_type': 'headtext'},\n        });\n    },\n\n    update(oldData) {\n        const data = this.data;\n\n        if (data.displayName !== oldData.displayName) {\n            this.publishHeadText();\n        }\n    },\n\n    tick: (function(t, dt) {\n        const data = this.data;\n        const el = this.el;\n\n        this.heartBeatCounter++;\n\n        data.rotation.setFromRotationMatrix(el.object3D.matrixWorld);\n        data.position.setFromMatrixPosition(el.object3D.matrixWorld);\n\n        this.camParent = el.object3D.parent.matrixWorld;\n        this.cam = el.object3D.matrixWorld;\n\n        this.cpi.getInverse(this.camParent);\n        this.cpi.multiply(this.cam);\n\n        this.vioMatrix.copy(this.cpi);\n        data.vioRotation.setFromRotationMatrix(this.cpi);\n        data.vioPosition.setFromMatrixPosition(this.cpi);\n\n        const rotationCoords = rotToText(data.rotation);\n        const positionCoords = coordsToText(data.position);\n        const newPose = rotationCoords + ' ' + positionCoords;\n\n        // update position every 1 sec\n        if (this.lastPose !== newPose || this.heartBeatCounter % (1000 / ARENA.updateMillis) == 0) {\n            this.publishPose();\n            this.publishVio();\n            this.lastPose = newPose;\n        }\n    }),\n});\n"},"lineCount":null}},"error":null,"hash":"5b8fc3e566445382ebba4ecef9f3a942","cacheData":{"env":{}}}