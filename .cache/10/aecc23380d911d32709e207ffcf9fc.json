{"id":"W4mB","dependencies":[{"name":"/home/ubuntu/dev/elu2/package.json","includedInParent":true,"mtime":1610121702865}],"generated":{"js":"AFRAME.registerComponent(\"impulse\",{schema:{on:{default:\"\"},force:{type:\"vec3\",default:{x:1,y:1,z:1}},position:{type:\"vec3\",default:{x:1,y:1,z:1}}},multiple:!0,init:function(){},update:function(e){const t=this.data,n=this.el;t.on?n.addEventListener(t.on,function(e){if(e.detail.clicker&&n.body){const e=new THREE.Vector3(t.force.x,t.force.y,t.force.z),o=new THREE.Vector3(t.position.x,t.position.y,t.position.z);n.body.applyImpulse(e,o)}}):console.log(t)},remove:function(){const e=this.data,t=this.el;e.event&&t.removeEventListener(e.event,this.eventHandlerFn)}});"},"sourceMaps":{"js":{"mappings":[{"source":"components/impulse.js","name":"AFRAME","original":{"line":9,"column":0},"generated":{"line":1,"column":0}},{"source":"components/impulse.js","name":"registerComponent","original":{"line":9,"column":7},"generated":{"line":1,"column":7}},{"source":"components/impulse.js","original":{"line":9,"column":25},"generated":{"line":1,"column":25}},{"source":"components/impulse.js","original":{"line":9,"column":36},"generated":{"line":1,"column":35}},{"source":"components/impulse.js","name":"schema","original":{"line":10,"column":4},"generated":{"line":1,"column":36}},{"source":"components/impulse.js","original":{"line":10,"column":12},"generated":{"line":1,"column":43}},{"source":"components/impulse.js","name":"on","original":{"line":11,"column":8},"generated":{"line":1,"column":44}},{"source":"components/impulse.js","original":{"line":11,"column":12},"generated":{"line":1,"column":47}},{"source":"components/impulse.js","name":"default","original":{"line":12,"column":12},"generated":{"line":1,"column":48}},{"source":"components/impulse.js","original":{"line":12,"column":21},"generated":{"line":1,"column":56}},{"source":"components/impulse.js","name":"force","original":{"line":14,"column":8},"generated":{"line":1,"column":60}},{"source":"components/impulse.js","original":{"line":14,"column":15},"generated":{"line":1,"column":66}},{"source":"components/impulse.js","name":"type","original":{"line":15,"column":12},"generated":{"line":1,"column":67}},{"source":"components/impulse.js","original":{"line":15,"column":18},"generated":{"line":1,"column":72}},{"source":"components/impulse.js","name":"default","original":{"line":16,"column":12},"generated":{"line":1,"column":79}},{"source":"components/impulse.js","original":{"line":16,"column":21},"generated":{"line":1,"column":87}},{"source":"components/impulse.js","name":"x","original":{"line":17,"column":16},"generated":{"line":1,"column":88}},{"source":"components/impulse.js","original":{"line":17,"column":19},"generated":{"line":1,"column":90}},{"source":"components/impulse.js","name":"y","original":{"line":18,"column":16},"generated":{"line":1,"column":92}},{"source":"components/impulse.js","original":{"line":18,"column":19},"generated":{"line":1,"column":94}},{"source":"components/impulse.js","name":"z","original":{"line":19,"column":16},"generated":{"line":1,"column":96}},{"source":"components/impulse.js","original":{"line":19,"column":19},"generated":{"line":1,"column":98}},{"source":"components/impulse.js","name":"position","original":{"line":22,"column":8},"generated":{"line":1,"column":102}},{"source":"components/impulse.js","original":{"line":22,"column":18},"generated":{"line":1,"column":111}},{"source":"components/impulse.js","name":"type","original":{"line":23,"column":12},"generated":{"line":1,"column":112}},{"source":"components/impulse.js","original":{"line":23,"column":18},"generated":{"line":1,"column":117}},{"source":"components/impulse.js","name":"default","original":{"line":24,"column":12},"generated":{"line":1,"column":124}},{"source":"components/impulse.js","original":{"line":24,"column":21},"generated":{"line":1,"column":132}},{"source":"components/impulse.js","name":"x","original":{"line":25,"column":16},"generated":{"line":1,"column":133}},{"source":"components/impulse.js","original":{"line":25,"column":19},"generated":{"line":1,"column":135}},{"source":"components/impulse.js","name":"y","original":{"line":26,"column":16},"generated":{"line":1,"column":137}},{"source":"components/impulse.js","original":{"line":26,"column":19},"generated":{"line":1,"column":139}},{"source":"components/impulse.js","name":"z","original":{"line":27,"column":16},"generated":{"line":1,"column":141}},{"source":"components/impulse.js","original":{"line":27,"column":19},"generated":{"line":1,"column":143}},{"source":"components/impulse.js","name":"multiple","original":{"line":32,"column":4},"generated":{"line":1,"column":148}},{"source":"components/impulse.js","original":{"line":32,"column":14},"generated":{"line":1,"column":158}},{"source":"components/impulse.js","name":"init","original":{"line":34,"column":4},"generated":{"line":1,"column":160}},{"source":"components/impulse.js","original":{"line":34,"column":10},"generated":{"line":1,"column":165}},{"source":"components/impulse.js","name":"update","original":{"line":38,"column":4},"generated":{"line":1,"column":178}},{"source":"components/impulse.js","original":{"line":38,"column":12},"generated":{"line":1,"column":185}},{"source":"components/impulse.js","name":"oldData","original":{"line":38,"column":21},"generated":{"line":1,"column":194}},{"source":"components/impulse.js","name":"data","original":{"line":39,"column":14},"generated":{"line":1,"column":197}},{"source":"components/impulse.js","name":"data","original":{"line":39,"column":14},"generated":{"line":1,"column":203}},{"source":"components/impulse.js","original":{"line":39,"column":21},"generated":{"line":1,"column":205}},{"source":"components/impulse.js","name":"data","original":{"line":39,"column":26},"generated":{"line":1,"column":210}},{"source":"components/impulse.js","name":"el","original":{"line":40,"column":14},"generated":{"line":1,"column":215}},{"source":"components/impulse.js","original":{"line":40,"column":19},"generated":{"line":1,"column":217}},{"source":"components/impulse.js","name":"el","original":{"line":40,"column":24},"generated":{"line":1,"column":222}},{"source":"components/impulse.js","name":"data","original":{"line":42,"column":12},"generated":{"line":1,"column":225}},{"source":"components/impulse.js","name":"on","original":{"line":42,"column":17},"generated":{"line":1,"column":227}},{"source":"components/impulse.js","name":"el","original":{"line":43,"column":12},"generated":{"line":1,"column":230}},{"source":"components/impulse.js","name":"addEventListener","original":{"line":43,"column":15},"generated":{"line":1,"column":232}},{"source":"components/impulse.js","name":"data","original":{"line":43,"column":32},"generated":{"line":1,"column":249}},{"source":"components/impulse.js","name":"on","original":{"line":43,"column":37},"generated":{"line":1,"column":251}},{"source":"components/impulse.js","original":{"line":43,"column":41},"generated":{"line":1,"column":254}},{"source":"components/impulse.js","name":"args","original":{"line":43,"column":50},"generated":{"line":1,"column":263}},{"source":"components/impulse.js","name":"args","original":{"line":44,"column":20},"generated":{"line":1,"column":266}},{"source":"components/impulse.js","name":"args","original":{"line":44,"column":20},"generated":{"line":1,"column":269}},{"source":"components/impulse.js","name":"detail","original":{"line":44,"column":25},"generated":{"line":1,"column":271}},{"source":"components/impulse.js","name":"clicker","original":{"line":44,"column":32},"generated":{"line":1,"column":278}},{"source":"components/impulse.js","name":"el","original":{"line":45,"column":24},"generated":{"line":1,"column":287}},{"source":"components/impulse.js","name":"body","original":{"line":45,"column":27},"generated":{"line":1,"column":289}},{"source":"components/impulse.js","original":{"line":45,"column":33},"generated":{"line":1,"column":294}},{"source":"components/impulse.js","name":"force","original":{"line":47,"column":30},"generated":{"line":1,"column":295}},{"source":"components/impulse.js","name":"force","original":{"line":47,"column":30},"generated":{"line":1,"column":301}},{"source":"components/impulse.js","original":{"line":47,"column":38},"generated":{"line":1,"column":303}},{"source":"components/impulse.js","name":"THREE","original":{"line":47,"column":42},"generated":{"line":1,"column":307}},{"source":"components/impulse.js","name":"Vector3","original":{"line":47,"column":48},"generated":{"line":1,"column":313}},{"source":"components/impulse.js","name":"data","original":{"line":47,"column":56},"generated":{"line":1,"column":321}},{"source":"components/impulse.js","name":"force","original":{"line":47,"column":61},"generated":{"line":1,"column":323}},{"source":"components/impulse.js","name":"x","original":{"line":47,"column":67},"generated":{"line":1,"column":329}},{"source":"components/impulse.js","name":"data","original":{"line":47,"column":70},"generated":{"line":1,"column":331}},{"source":"components/impulse.js","name":"force","original":{"line":47,"column":75},"generated":{"line":1,"column":333}},{"source":"components/impulse.js","name":"y","original":{"line":47,"column":81},"generated":{"line":1,"column":339}},{"source":"components/impulse.js","name":"data","original":{"line":47,"column":84},"generated":{"line":1,"column":341}},{"source":"components/impulse.js","name":"force","original":{"line":47,"column":89},"generated":{"line":1,"column":343}},{"source":"components/impulse.js","name":"z","original":{"line":47,"column":95},"generated":{"line":1,"column":349}},{"source":"components/impulse.js","name":"pos","original":{"line":48,"column":30},"generated":{"line":1,"column":352}},{"source":"components/impulse.js","original":{"line":48,"column":36},"generated":{"line":1,"column":354}},{"source":"components/impulse.js","name":"THREE","original":{"line":48,"column":40},"generated":{"line":1,"column":358}},{"source":"components/impulse.js","name":"Vector3","original":{"line":48,"column":46},"generated":{"line":1,"column":364}},{"source":"components/impulse.js","name":"data","original":{"line":48,"column":54},"generated":{"line":1,"column":372}},{"source":"components/impulse.js","name":"position","original":{"line":48,"column":59},"generated":{"line":1,"column":374}},{"source":"components/impulse.js","name":"x","original":{"line":48,"column":68},"generated":{"line":1,"column":383}},{"source":"components/impulse.js","name":"data","original":{"line":48,"column":71},"generated":{"line":1,"column":385}},{"source":"components/impulse.js","name":"position","original":{"line":48,"column":76},"generated":{"line":1,"column":387}},{"source":"components/impulse.js","name":"y","original":{"line":48,"column":85},"generated":{"line":1,"column":396}},{"source":"components/impulse.js","name":"data","original":{"line":48,"column":88},"generated":{"line":1,"column":398}},{"source":"components/impulse.js","name":"position","original":{"line":48,"column":93},"generated":{"line":1,"column":400}},{"source":"components/impulse.js","name":"z","original":{"line":48,"column":102},"generated":{"line":1,"column":409}},{"source":"components/impulse.js","name":"el","original":{"line":49,"column":24},"generated":{"line":1,"column":412}},{"source":"components/impulse.js","name":"body","original":{"line":49,"column":27},"generated":{"line":1,"column":414}},{"source":"components/impulse.js","name":"applyImpulse","original":{"line":49,"column":32},"generated":{"line":1,"column":419}},{"source":"components/impulse.js","name":"force","original":{"line":49,"column":45},"generated":{"line":1,"column":432}},{"source":"components/impulse.js","name":"pos","original":{"line":49,"column":52},"generated":{"line":1,"column":434}},{"source":"components/impulse.js","name":"console","original":{"line":55,"column":12},"generated":{"line":1,"column":440}},{"source":"components/impulse.js","name":"log","original":{"line":55,"column":20},"generated":{"line":1,"column":448}},{"source":"components/impulse.js","name":"data","original":{"line":55,"column":24},"generated":{"line":1,"column":452}},{"source":"components/impulse.js","name":"remove","original":{"line":59,"column":4},"generated":{"line":1,"column":456}},{"source":"components/impulse.js","original":{"line":59,"column":12},"generated":{"line":1,"column":463}},{"source":"components/impulse.js","name":"data","original":{"line":60,"column":14},"generated":{"line":1,"column":474}},{"source":"components/impulse.js","name":"data","original":{"line":60,"column":14},"generated":{"line":1,"column":480}},{"source":"components/impulse.js","original":{"line":60,"column":21},"generated":{"line":1,"column":482}},{"source":"components/impulse.js","name":"data","original":{"line":60,"column":26},"generated":{"line":1,"column":487}},{"source":"components/impulse.js","name":"el","original":{"line":61,"column":14},"generated":{"line":1,"column":492}},{"source":"components/impulse.js","original":{"line":61,"column":19},"generated":{"line":1,"column":494}},{"source":"components/impulse.js","name":"el","original":{"line":61,"column":24},"generated":{"line":1,"column":499}},{"source":"components/impulse.js","name":"data","original":{"line":64,"column":12},"generated":{"line":1,"column":502}},{"source":"components/impulse.js","name":"event","original":{"line":64,"column":17},"generated":{"line":1,"column":504}},{"source":"components/impulse.js","name":"el","original":{"line":65,"column":12},"generated":{"line":1,"column":511}},{"source":"components/impulse.js","name":"removeEventListener","original":{"line":65,"column":15},"generated":{"line":1,"column":513}},{"source":"components/impulse.js","name":"data","original":{"line":65,"column":35},"generated":{"line":1,"column":533}},{"source":"components/impulse.js","name":"event","original":{"line":65,"column":40},"generated":{"line":1,"column":535}},{"source":"components/impulse.js","original":{"line":65,"column":47},"generated":{"line":1,"column":541}},{"source":"components/impulse.js","name":"eventHandlerFn","original":{"line":65,"column":52},"generated":{"line":1,"column":546}}],"sources":{"components/impulse.js":"/* global AFRAME */\n\n/**\n * One physics feature is applying an impulse to an object to set it in motion.\n * This happens in conjunction with an event.\n * Works along physics system (aframe-physics-system).\n *\n */\nAFRAME.registerComponent('impulse', {\n    schema: {\n        on: {\n            default: '',\n        }, // event to listen 'on'\n        force: {\n            type: 'vec3',\n            default: {\n                x: 1,\n                y: 1,\n                z: 1,\n            },\n        },\n        position: {\n            type: 'vec3',\n            default: {\n                x: 1,\n                y: 1,\n                z: 1,\n            },\n        },\n    },\n\n    multiple: true,\n\n    init: function() {\n        const self = this;\n    },\n\n    update: function(oldData) {\n        const data = this.data; // Component property values.\n        const el = this.el; // Reference to the component's entity.\n\n        if (data.on) { // we have an event?\n            el.addEventListener(data.on, function(args) {\n                if (args.detail.clicker) { // our synthetic event from MQTT\n                    if (el.body) { // has physics = dynamic-body Component\n                        // e.g. <a-entity impulse=\"on: mouseup; force: 1 50 1; position: 1 1 1\" ...>\n                        const force = new THREE.Vector3(data.force.x, data.force.y, data.force.z);\n                        const pos = new THREE.Vector3(data.position.x, data.position.y, data.position.z);\n                        el.body.applyImpulse(force, pos);\n                    }\n                }\n            });\n        } else {\n            // `event` not specified, just log the message.\n            console.log(data);\n        }\n    },\n    // handle component removal \n    remove: function() {\n        const data = this.data;\n        const el = this.el;\n\n        // remove event listener\n        if (data.event) {\n            el.removeEventListener(data.event, this.eventHandlerFn);\n        }\n    },\n});\n"},"lineCount":null}},"error":null,"hash":"43b2a67197a9a35bb7a2c9c711cae5e0","cacheData":{"env":{}}}